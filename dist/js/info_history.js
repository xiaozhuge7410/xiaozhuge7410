webpackJsonp([6],{0:function(e,t){function a(){this.init()}a.prototype={init:function(){this.domRender(),this.bindEvent()},domRender:function(){var e=window.localStorage.getItem("localSidebarDom"),t=window.localStorage.getItem("localheaderDom");null==e?(this.sidebarDomRender(),this.locationSetActive()):($(".page-sidebar-wrapper").html(""),$(e).appendTo(".page-sidebar-wrapper"),$(".page-sidebar").hasClass("closed")?$(".page-content").addClass("open"):$(".page-content").removeClass("open"),this.locationSetActive()),null==t?this.headerDomRender():($(".page-header").html(""),$(t).appendTo(".page-header")),this.footerDomRender()},headerDomRender:function(){$('<div class="page-header-inner "><div class="page-logo"><a href="../report/common.html"><img src="../../img/logo.png" alt="logo" class="logo-default"></a><div class="menu-toggler"><i class="fa fa-bars" style="color:#fff;font-size:2rem;"></i></div></div><div class="build-version">科研版</div><div class="welcome-func"><ul class="welcome-func-list"><li class="welcome-user"><img alt="" class="welcome-userimg img-circle" src="../../img/avatar_default.png"><span class="welcome-username"></span><ul class="welcome-user-menu"><li><i class="fa fa-question-circle"></i><a href="#">帮助</a></li><li class="logout-btn"><i class="fa fa-sign-out"></i><a href="../login.html">登出</a></li></ul></li></ul></div></div>').appendTo(".page-header"),this.getWelcomeInfo()},sidebarDomRender:function(){for(var e=[{icon:"icon-bar-chart",title:"运动报告管理",link:"#",permission:[1,2,3],childItem:[{link:"../report/common.html",title:"常规运动报告"},{link:"../report/aerobic.html",title:"515有氧能力测试报告"},{link:"../report/rockport.html",title:"Rockport测试报告"},{link:"../report/4min_walk.html",title:"跑步机四分钟走测试报告"}]},{icon:"icon-users",title:"客户管理",link:"#",permission:[1,2,3],childItem:[{link:"../customer/info.html",title:"客户信息"}]},{icon:"icon-pie-chart",title:"数据统计",link:"#",permission:[2],childItem:[{link:"../stats/stats.html",title:"数据统计报告"}]}],t=parseInt(window.localStorage.getItem("auClinic")),a=0;a<e.length;a++)if(-1!=e[a].permission.indexOf(t)){for(var i="",o=0;o<e[a].childItem.length;o++)i=i+'<li class="nav-item"><a href="'+e[a].childItem[o].link+'" class="nav-link "><span class="title">'+e[a].childItem[o].title+"</span></a></li>";if(0==e[a].childItem.length)var r='<li class="nav-item"><a href="'+e[a].link+'" class="nav-link nav-toggle"><i class="'+e[a].icon+'"></i><span class="title">'+e[a].title+"</span></a></li>";else var r='<li class="nav-item"><a href="'+e[a].link+'" class="nav-link nav-toggle"><i class="'+e[a].icon+'"></i><span class="title">'+e[a].title+'</span><span class="arrow"></span></a><ul class="sub-menu">'+i+"</ul></li>";$(r).appendTo(".page-sidebar-menu")}window.localStorage.setItem("localSidebarDom",$(".page-sidebar-wrapper").html())},footerDomRender:function(){$('<div class="page-footer-inner">2016 &copy; 加动健康科技（深圳）有限公司</div><div class="scroll-to-top"><i class="icon-arrow-up"></i></div>').appendTo(".page-footer")},getWelcomeInfo:function(){var e=window.localStorage.getItem("userImgUrlClinic"),t=window.localStorage.getItem("userNickNameClinic");"undefined"==e||"null"==e?$(".welcome-userimg").attr("src","../../img/avatar_default.png"):$(".welcome-userimg").attr("src",e),"undefined"==t||"null"==t?$(".welcome-username").text("管理员"):$(".welcome-username").text(t)},bindEvent:function(){$(".page-sidebar-menu>li>a").on("click",function(e){e.preventDefault()}),$(".page-sidebar-menu>li").on("click",function(){$(this).hasClass("open")?$(this).removeClass("open"):($(".page-sidebar-menu>li").removeClass("open"),$(this).addClass("open")),window.localStorage.setItem("localSidebarDom",$(".page-sidebar-wrapper").html())}),$(".page-sidebar-menu>li .sub-menu>li").on("click",function(e){e.stopPropagation(),$(this).hasClass("active")||($(this).parents().find(".page-sidebar-menu>li>ul>li").removeClass("active"),$(this).addClass("active")),window.localStorage.setItem("localSidebarDom",$(".page-sidebar-wrapper").html())}),$(".page-logo .menu-toggler").on("click",function(){$(".page-sidebar").hasClass("closed")?($(".page-sidebar").removeClass("closed"),$(".page-content").removeClass("open"),$(".page-footer").removeClass("open"),$(".page-logo").removeClass("closed")):($(".page-sidebar").addClass("closed"),$(".page-content").addClass("open"),$(".page-footer").addClass("open"),$(".page-logo").addClass("closed")),window.localStorage.setItem("localSidebarDom",$(".page-sidebar-wrapper").html()),window.localStorage.setItem("localheaderDom",$(".page-header").html())}),$(".logout-btn").on("click",function(){window.localStorage.clear()})},locationSetActive:function(){-1!=window.location.href.indexOf("common")&&($(".page-sidebar-menu>li").removeClass("open"),$(".page-sidebar-menu>li:first").addClass("open"),$(".page-sidebar-menu>li .sub-menu li").removeClass("active"),$(".page-sidebar-menu>li:first .sub-menu li").eq(0).addClass("active")),-1!=window.location.href.indexOf("aerobic")&&($(".page-sidebar-menu>li").removeClass("open"),$(".page-sidebar-menu>li:first").addClass("open"),$(".page-sidebar-menu>li .sub-menu li").removeClass("active"),$(".page-sidebar-menu>li:first .sub-menu li").eq(1).addClass("active")),-1!=window.location.href.indexOf("rockport")&&($(".page-sidebar-menu>li").removeClass("open"),$(".page-sidebar-menu>li:first").addClass("open"),$(".page-sidebar-menu>li .sub-menu li").removeClass("active"),$(".page-sidebar-menu>li:first .sub-menu li").eq(2).addClass("active")),-1!=window.location.href.indexOf("4min_walk")&&($(".page-sidebar-menu>li").removeClass("open"),$(".page-sidebar-menu>li:first").addClass("open"),$(".page-sidebar-menu>li .sub-menu li").removeClass("active"),$(".page-sidebar-menu>li:first .sub-menu li").eq(3).addClass("active")),-1!=window.location.href.indexOf("info")&&($(".page-sidebar-menu>li").removeClass("open"),$(".page-sidebar-menu>li").eq(1).addClass("open"),$(".page-sidebar-menu>li .sub-menu li").removeClass("active"),$(".page-sidebar-menu>li").eq(1).find(".sub-menu li").eq(0).addClass("active")),-1!=window.location.href.indexOf("stats")&&($(".page-sidebar-menu>li").removeClass("open"),$(".page-sidebar-menu>li").eq(2).addClass("open"),$(".page-sidebar-menu>li .sub-menu li").removeClass("active"),$(".page-sidebar-menu>li").eq(2).find(".sub-menu li").eq(0).addClass("active")),window.localStorage.setItem("localSidebarDom",$(".page-sidebar-wrapper").html())}},new a},12:function(e,t,a){"use strict";function i(){this.init()}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),r=(a.n(o),a(1)),n=(a.n(r),a(2));a.n(n);i.prototype.init=function(){null==window.localStorage.getItem("utClinic")?($("html,body").html(""),window.location.href="../login.html"):(window.localStorage.setItem("reportType","4"),this.requestCustomerData(),this.requestTable(),this.bind())},i.prototype.requestCustomerData=function(){var e=this,t=!1,a=window.localStorage.getItem("utClinic"),i=window.localStorage.getItem("uidClinic"),o=window.localStorage.getItem("customerUUID");t||(t=!0,$.ajax({url:window.urlHandler("customer/findByCustomerUuid",i,a),method:"post",data:{customerId:o}}).done(function(a){200==a.status&&e.renderInfo(a.datas.userInfo),t=!1}).fail(function(e){t=!1}))},i.prototype.renderInfo=function(e){$(".userinfo-detail-list li").eq(0).find("img").attr("src",e.icon_url),$(".userinfo-detail-list li").eq(1).find("p").text(window.nullFormat(e.id)),$(".userinfo-detail-list li").eq(2).find("p").text(window.nullFormat(e.nick_name)),$(".userinfo-detail-list li").eq(3).find("p").text(window.formatSex(e.sex)),$(".userinfo-detail-list li").eq(4).find("p").text(window.nullFormat(e.age)),$(".userinfo-detail-list li").eq(5).find("p").text(window.cityNullFormat(e.province)+window.cityNullFormat(e.city)),$(".userinfo-detail-list li").eq(6).find("p").text(window.nullFormat(e.height)+"cm"),$(".userinfo-detail-list li").eq(7).find("p").text(window.nullFormat(e.weight)+"kg"),$(".userinfo-detail-list li").eq(8).find("p").text(window.zeroFormat(e.motion_number)+"次"),$(".userinfo-detail-list li").eq(9).find("p").text(window.cutTimeUntilSeconds(e.last_upload_time)),$(".userinfo-detail-list li").eq(10).find("p").text(window.nullFormat(e.register_time)),$(".userinfo-remark").find("p").text(window.nullFormat(e.remarks)),"1"==window.localStorage.getItem("auClinic")&&$(".unbind-customer").hide(),$(".info-input-group-ct ul li").eq(0).find("input").val(e.nick_name),"1"==e.sex?$(".info-input-group-ct ul li").eq(1).find("input").eq(0).attr("checked",!0):"0"==e.sex&&$(".info-input-group-ct ul li").eq(1).find("input").eq(1).attr("checked",!0),null!=e.birthday&&(this.birthDivider(e.birthday),$(".sel_year").attr("rel",this.birthArr[0]),$(".sel_month").attr("rel",this.birthArr[1]),$(".sel_day").attr("rel",this.birthArr[2])),$.ms_DatePicker({YearSelector:".sel_year",MonthSelector:".sel_month",DaySelector:".sel_day",FirstText:null,FirstValue:null}),$(".sel_year").select2({minimumResultsForSearch:-1,language:"zh-CN"}),$(".sel_month").select2({minimumResultsForSearch:-1,language:"zh-CN"}),$(".sel_day").select2({minimumResultsForSearch:-1,language:"zh-CN"}),$(".info-input-group-ct ul li").eq(3).find("input").val(e.height),$(".info-input-group-ct ul li").eq(4).find("input").val(e.weight),$("#city-selector").citys({province:e.province,city:e.city}),$(".province-select").select2({minimumResultsForSearch:-1,language:"zh-CN"}),$(".city-select").select2({minimumResultsForSearch:-1,language:"zh-CN"}),$(".info-input-group-ct ul li").eq(6).find("textarea").val(e.remarks)},i.prototype.birthDivider=function(e){this.birthArr=[],this.birthArr=e.split("/")},i.prototype.birthJoiner=function(){var e=$(".sel_year").val(),t=$(".sel_month").val(),a=$(".sel_day").val();return e+"/"+window.getZeroFormat(t)+"/"+window.getZeroFormat(a)},i.prototype.bind=function(){var e=this;$(".start-date-form").daterangepicker({autoUpdateInput:!1,singleDatePicker:!0,maxDate:new Date,locale:{applyLabel:"确定",cancelLabel:"清空",fromLabel:"起始时间",toLabel:"结束时间",customRangeLabel:"自定义",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}}),$(".start-date-form").on("apply.daterangepicker",function(t,a){e.stDate=a.startDate,$(this).find("input").val(a.startDate.format("YYYY-MM-DD")),window.localStorage.setItem("startTime",$(this).find("input").val()+" 00:00:00"),$(this).find(".fa-close").show(),$(".end-date-form").daterangepicker({autoUpdateInput:!1,singleDatePicker:!0,minDate:a.startDate._d,maxDate:new Date,locale:{applyLabel:"确定",cancelLabel:"清空",fromLabel:"起始时间",toLabel:"结束时间",customRangeLabel:"自定义",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}}),$(".end-date-form").on("apply.daterangepicker",function(e,t){$(this).find("input").val(t.endDate.format("YYYY-MM-DD")),window.localStorage.setItem("endTime",$(this).find("input").val()+" 23:59:59"),$(this).find(".fa-close").show()}),$(".end-date-form i.fa-close").on("click",function(){$(this).parent().find("input").val(""),window.localStorage.removeItem("endTime"),$(this).hide()})}),$(".start-date-form i.fa-close").on("click",function(){$(this).parent().find("input").val(""),window.localStorage.removeItem("startTime"),$(this).hide()}),$(".search-commit-btn").on("click",function(){e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),"")}),$(".report-select").select2({minimumResultsForSearch:-1,language:"zh-CN"}),$(".report-select").on("change",function(t){var a=$(this).find("option:selected").attr("data-type");window.localStorage.setItem("reportType",a),e.requestTable(),$(".start-date-form").find("input").val(""),$(".end-date-form").find("input").val(""),window.localStorage.removeItem("startTime"),window.localStorage.removeItem("endTime")}),$(".name-input").on("keyup",function(e){var t=$(this).val(),a=t.length-1,i=$(this).val().charAt(a);"[`~!#$^&*()=|%{}':;',\\[\\].<>/?~！#￥……&*（）——|{}【】‘；：”“'。，、？]‘'".indexOf(i)>=0&&(i=t.substring(0,a),$(this).val(i))}),$(".height-input").on("keypress",function(e){return event.keyCode>=48&&event.keyCode<=57}),$(".weight-input").on("keypress",function(e){return event.keyCode>=48&&event.keyCode<=57}),$(".save-info-input").on("click",function(){var t=window.localStorage.getItem("utClinic"),a=window.localStorage.getItem("uidClinic"),i=window.localStorage.getItem("customerUUID"),o=$(".name-input").val(),r=$("input:radio[name=sex]:checked").val(),n=e.birthJoiner(),l=$(".height-input").val(),d=$(".weight-input").val(),s=$("#city-selector select").eq(0).find("option:selected").text(),c=$("#city-selector select").eq(1).find("option:selected").text(),m=$(".info-input-group-ct ul li").eq(6).find("textarea").val();""==o||""==r||""==n||""==l||""==d||""==s||""==c?($(".type-error-alert").text("以上信息除备注外均不能为空！"),$(".type-error-alert").fadeIn(),setTimeout(function(){$(".type-error-alert").fadeOut()},2e3)):$.ajax({url:window.urlHandler("customer/updateCustomerInfo",a,t),method:"POST",data:{uuid:i,nick_name:o,sex:r,birthday:n,height:l,weight:d,province:s,city:c,remarks:m}}).done(function(t){200==t.status&&(e.requestCustomerData(),$("#rewriteModal").modal("hide"),swal({title:"提示",text:"保存成功！",type:"success",showConfirmButton:!1,timer:2e3})),501==t.status&&($(".type-error-alert").text("以上信息除备注外均不能为空！"),$(".type-error-alert").fadeIn(),setTimeout(function(){$(".type-error-alert").fadeOut()},2e3))}).fail(function(e){$("#rewriteModal").modal("hide"),swal({title:"提示",text:"保存失败！",type:"error",showConfirmButton:!1,timer:2e3})})}),$(".unbind-customer-confirm").on("click",function(){var e=window.localStorage.getItem("utClinic"),t=window.localStorage.getItem("uidClinic"),a=window.localStorage.getItem("customerUUID");$.ajax({url:window.urlHandler("customer/deleteByUserCoachId",t,e),method:"POST",data:{customerId:a}}).done(function(e){200==e.status&&($("#unbindModal").modal("hide"),swal({title:"提示",text:"解绑成功！",type:"success",showConfirmButton:!1,timer:2e3})),window.dataErrorHandler(e)}).fail(function(e){$("#unbindModal").modal("hide"),swal({title:"提示",text:"解绑失败！",type:"error",showConfirmButton:!1,timer:2e3})})}),window.onbeforeunload=function(){window.localStorage.removeItem("startTime"),window.localStorage.removeItem("endTime"),window.localStorage.removeItem("reportType"),e.resetSortType()}},i.prototype.requestTable=function(e,t,a,i){var o=this,r=!1,n=window.localStorage.getItem("utClinic"),l=window.localStorage.getItem("uidClinic"),d=window.localStorage.getItem("customerUUID"),s=$(".report-select option:selected").attr("data-type");window.localStorage.setItem("reportType",s),r||(r=!0,$.ajax({url:window.urlHandler("customer/queryByUserIdHistory",l,n),method:"POST",data:{customerId:d,page:e,pageSize:i,beginTime:t,endTime:a,type:window.localStorage.getItem("reportType"),sortType:window.localStorage.getItem("sortType")}}).done(function(e){200==e.status&&($(".table-manager").find("tbody").html(""),$(".pagination").html(""),$(".table-mask-box").show(),o.renderTable(e),"1"==window.localStorage.getItem("reportType")?o.initPagination(e.datas.motionList.pages):o.initPagination(e.datas.aerobicDataList.pages),null!=window.localStorage.getItem("sortType")&&window.localStorage.removeItem("sortType")),r=!1,window.dataErrorHandler(e)}).fail(function(e){r=!1}))},i.prototype.renderTable=function(e){$(".table-mask-box").hide();var t=($(".table-manager").find("thead"),$(".table-manager").find("tbody"));if("1"==window.localStorage.getItem("reportType")){$(".report-header").text("常规运动报告");var a=e.datas.motionList.list;if($(".common-tr").show(),$(".aerobic-tr").hide(),0==a.length){var i="<tr><td>无相关记录</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td></tr>";$(i).appendTo(t),$(".pagination-block").hide()}else{for(var o=0;o<a.length;o++){var i="<tr><td>"+window.formatTime(a[o].create_time)+"</td><td>"+a[o].motion_sum_time+"</td><td>"+a[o].met_value+"MET</td><td>"+a[o].max_vo2+"ml/kg·min</td><td>"+a[o].avg_hr+"bpm</td><td>"+a[o].max_hr+"bpm</td><td>"+this.ifHasRisk(a[o].exercise_risk)+"</td>";null!=a[o].questionnaireRecordId?i+='<td><a class="report-detail" href="../report/common_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a><a class="recordid-detail" href="../customer/Survey_report_detail.html" data-recordId="'+a[o].questionnaireRecordId+'"></a></td>':i+='<td><a class="report-detail" href="../report/common_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a></td>',i+="</tr>",$(i).appendTo(t)}$(".pagination-block").show();var r=e.datas.motionList.pageNum;window.localStorage.setItem("pageNow",r)}}else{var a=e.datas.aerobicDataList.list;if($(".common-tr").hide(),$(".aerobic-tr").show(),0==a.length){var i="<tr><td>无相关记录</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td></tr>";$(i).appendTo(t),$(".pagination-block").hide(),"2"==window.localStorage.getItem("reportType")&&$(".report-header").text("515有氧能力测试报告"),"3"==window.localStorage.getItem("reportType")&&$(".report-header").text("Rockport测试报告"),"4"==window.localStorage.getItem("reportType")&&$(".report-header").text("跑步机四分钟走测试报告")}else{for(var o=0;o<a.length;o++){var i="<tr><td>"+window.nullFormat(a[o].create_time)+"</td><td>"+window.nullFormat(a[o].sport_sum_time)+"</td><td>"+a[o].met_value+"MET</td><td>"+a[o].vo2_max+"ml/kg·min</td><td>"+a[o].avg_heart+"bpm</td><td>"+a[o].max_heart+"bpm</td><td>"+a[o].avg_smo2+"%</td><td>"+a[o].min_smo2+"%</td>";"2"==window.localStorage.getItem("reportType")&&($(".report-header").text("515有氧能力测试报告"),null!=a[o].questionnaireRecordId?(i+='<td><a class="report-detail" href="../report/aerobic_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a>',a[o].questionnaireRecordId):i+='<td><a class="report-detail" href="../report/aerobic_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a></td></tr>'),"3"==window.localStorage.getItem("reportType")&&($(".report-header").text("Rockport测试报告"),null!=a[o].questionnaireRecordId?i+='<td><a class="report-detail" href="../report/rockport_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a><a class="recordid-detail" href="../customer/Survey_report_detail.html" data-recordId="'+a[o].questionnaireRecordId+'"></a></td></tr>':i+='<td><a class="report-detail" href="../report/rockport_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a></td></tr>'),"4"==window.localStorage.getItem("reportType")&&($(".report-header").text("跑步机四分钟走测试报告"),null!=a[o].questionnaireRecordId?i+='<td><a class="report-detail" href="../report/4min_walk_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a><a class="recordid-detail" href="../customer/Survey_report_detail.html" data-recordId="'+a[o].questionnaireRecordId+'"></a></td></tr>':i+='<td><a class="report-detail" href="../report/4min_walk_detail.html" data-recordId="'+a[o].questionnaireRecordId+'" data-reportid="'+a[o].id+'">报告</a></td></tr>'),$(i).appendTo(t)}$(".pagination-block").show();var r=e.datas.aerobicDataList.pageNum;window.localStorage.setItem("pageNow",r)}}this.theadSortEvent()},i.prototype.initPagination=function(e){$('<li class="pagination-prev"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>').appendTo($(".pagination")),this.pageLength=e;var t=parseInt(window.localStorage.getItem("pageNow"));if(e>5&&6!=e){if(t>=5&&t<=e-4){var a='<li><a href="#">1</a></li><li class="paitem-dot"><a href="#">...</a></li>';$(a).appendTo($(".pagination"));for(var i=t;i<t+3;i++){var o='<li><a href="#">'+i+"</a></li>";$(o).appendTo($(".pagination"))}var r='<li class="paitem-dot"><a href="#">...</a></li><li><a href="#">'+e+"</a></li>";$(r).appendTo($(".pagination"))}if(t<5){for(var i=1;i<=5;i++){var o='<li><a href="#">'+i+"</a></li>";$(o).appendTo($(".pagination"))}var r='<li class="paitem-dot"><a href="#">...</a></li><li><a href="#">'+e+"</a></li>";$(r).appendTo($(".pagination"))}if(t>=5&&t>e-4){var a='<li><a href="#">1</a></li><li class="paitem-dot"><a href="#">...</a></li>';$(a).appendTo($(".pagination"));for(var i=e-4;i<=e;i++){var o='<li><a href="#">'+i+"</a></li>";$(o).appendTo($(".pagination"))}}}else if(6==e)for(var i=1;i<=e;i++){var o='<li><a href="#">'+i+"</a></li>";$(o).appendTo($(".pagination"))}else for(var i=1;i<=e;i++){var o='<li><a href="#">'+i+"</a></li>";$(o).appendTo($(".pagination"))}$('<li class="pagination-next"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>').appendTo($(".pagination")),this.paBind()},i.prototype.paBind=function(){var e=this;$(".pagination li").on("click",function(t){t.preventDefault(),e.requestTable($(this).find("a").text(),window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize)}),$(".pagination li:first").off("click"),$(".pagination li:last").off("click"),$(".paitem-dot").off("click"),$(".pagination-prev").on("click",function(t){t.preventDefault();var a=window.localStorage.getItem("pageNow");1!=a?e.requestTable(parseInt(a)-1,window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize):swal({title:"提示",text:"已经是第一页了！",type:"info",showConfirmButton:!0,confirmButtonText:"确定",timer:2e3,confirmButtonColor:"#009CAA"})}),$(".pagination-next").on("click",function(t){t.preventDefault();var a=window.localStorage.getItem("pageNow");a!=e.pageLength?e.requestTable(parseInt(a)+1,window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize):swal({title:"提示",text:"已经是最后一页了！",type:"info",showConfirmButton:!0,confirmButtonText:"确定",timer:2e3,confirmButtonColor:"#009CAA"})}),$(".paitem-dot").on("click",function(e){e.preventDefault()}),$(".pagination li").each(function(){$(this).text()==window.localStorage.getItem("pageNow")&&$(this).addClass("active")}),$(".page-index").on("keyup",function(t){13==t.keyCode&&e.requestTable($(".page-index-input").val(),window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(".page-index-input").val()>e.pageLength&&$(".page-index-input").val(e.pageLength)}),$(".page-index span").on("click",function(t){e.requestTable($(".page-index-input").val(),window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(".page-index-input").val()>e.pageLength&&$(".page-index-input").val(e.pageLength)}),$(".pagesize-selector").on("change",function(t){e.pageSize=$(this).val(),e.requestTable($(".page-index-input").val(),window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize)}),$(".report-detail").on("click",function(){var e=$(this).attr("data-reportid");window.localStorage.setItem("reportId",e);var t=$(this).attr("data-recordId");window.localStorage.setItem("data_recordId",t)}),$(".recordid-detail").on("click",function(){var e=$(this).attr("data-recordId");window.localStorage.setItem("data_recordId",e)})},i.prototype.ifHasRisk=function(e){return null==e?"--":void 0==e?"--":""==e?"--":"0"==e?"无":"有"},i.prototype.resetSortType=function(){window.localStorage.removeItem("sortType")},i.prototype.theadSortEvent=function(){var e=this;if("1"==window.localStorage.getItem("reportType"))for(var t=["CREATE_TIME_DESC","MOTION_SUM_TIME_DESC","MET_VALUE_DESC","MAX_VO2_DESC","AVG_HR_DESC","MAX_HR_DESC","EXERCISE_RISK_DESC"],a=["CREATE_TIME_ASC","MOTION_SUM_TIME_ASC","MET_VALUE_ASC","MAX_VO2_ASC","AVG_HR_ASC","MAX_HR_ASC","EXERCISE_RISK_ASC"],i=0;i<t.length;i++)!function(i){$(".table-manager thead tr.common-tr th").eq(i).off("click").on("click",function(){null==window.localStorage.getItem("sortType")?(window.localStorage.setItem("sortType",t[i]),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(this).find("i").removeClass(),$(this).find("i").addClass("fa fa-sort-desc")):window.localStorage.getItem("sortType")==a[i]?(e.resetSortType(),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(this).find("i").removeClass(),$(this).find("i").addClass("fa fa-sort")):window.localStorage.getItem("sortType")==t[i]?(window.localStorage.setItem("sortType",a[i]),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(this).find("i").removeClass(),$(this).find("i").addClass("fa fa-sort-asc"),$(this).addClass("down")):(window.localStorage.setItem("sortType",t[i]),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(".table-manager thead tr th").find("i").removeClass().addClass("fa fa-sort"),$(this).find("i").addClass("fa fa-sort-desc"))})}(i);else for(var t=["CREATE_TIME_DESC","SPORT_SUM_TIME_DESC","MET_VALUE_DESC","VO2_MAX_DESC","AVG_HEART_DESC","MAX_HEART_DESC","AVG_SMO2_DESC","MIN_SMO2_DESC"],a=["CREATE_TIME_ASC","SPORT_SUM_TIME_ASC","MET_VALUE_ASC","VO2_MAX_ASC","AVG_HEART_ASC","MAX_HEART_ASC","AVG_SMO2_ASC","MIN_SMO2_ASC"],i=0;i<t.length;i++)!function(i){$(".table-manager thead tr.aerobic-tr th").eq(i).off("click").on("click",function(){null==window.localStorage.getItem("sortType")?(window.localStorage.setItem("sortType",t[i]),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(this).find("i").removeClass(),$(this).find("i").addClass("fa fa-sort-desc")):window.localStorage.getItem("sortType")==a[i]?(e.resetSortType(),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(this).find("i").removeClass(),$(this).find("i").addClass("fa fa-sort")):window.localStorage.getItem("sortType")==t[i]?(window.localStorage.setItem("sortType",a[i]),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(this).find("i").removeClass(),$(this).find("i").addClass("fa fa-sort-asc"),$(this).addClass("down")):(window.localStorage.setItem("sortType",t[i]),e.requestTable("",window.localStorage.getItem("startTime"),window.localStorage.getItem("endTime"),e.pageSize),$(".table-manager thead tr th").find("i").removeClass().addClass("fa fa-sort"),$(this).find("i").addClass("fa fa-sort-desc"))})}(i)},new i},33:function(e,t,a){e.exports=a(12)}},[33]);